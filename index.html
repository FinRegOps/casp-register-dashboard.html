<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register Crypto-Asset Service Providers â€” Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.8.0/Recharts.min.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Source Sans 3', sans-serif; background: #fff; color: #1B2A4A; }
</style>
</head>
<body>
<div id="root"></div>
<script>
// Short alias
const h = React.createElement;
const { useState } = React;
const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell } = Recharts;

// === DATA ===
const authTypeData = [
  { name: "Cross-border (Art. 65)", value: 32 },
  { name: "CASP Authorisation (Art. 63)", value: 20 },
  { name: "CASP Notification (Art. 60)", value: 4 },
];

const originData = [
  { name: "Duitsland", value: 11 },
  { name: "Frankrijk", value: 7 },
  { name: "Malta", value: 6 },
  { name: "Luxemburg", value: 3 },
  { name: "Oostenrijk", value: 2 },
  { name: "Cyprus", value: 1 },
  { name: "Litouwen", value: 1 },
  { name: "Ierland", value: 1 },
];

const servicesData = [
  { name: "(a) Custody & administration", short: "Custody", value: 42 },
  { name: "(j) Transfer services", short: "Transfer", value: 42 },
  { name: "(c) Exchange crypto/fiat", short: "Crypto/fiat", value: 34 },
  { name: "(e) Order execution", short: "Execution", value: 32 },
  { name: "(d) Exchange crypto/crypto", short: "Crypto/crypto", value: 28 },
  { name: "(g) Reception & transmission", short: "R&T orders", value: 15 },
  { name: "(f) Placing", short: "Placing", value: 10 },
  { name: "(i) Portfolio management", short: "Portfolio", value: 9 },
  { name: "(b) Trading platform", short: "Trading platform", value: 8 },
  { name: "(h) Advice", short: "Advice", value: 4 },
];

const nlCasps = [
  { name: "MoonPay Europe B.V.", type: "Art. 63" },
  { name: "BitStaete B.V.", type: "Art. 63" },
  { name: "Zebedee Europe B.V.", type: "Art. 63" },
  { name: "Hidden Road Partners CIV NL B.V.", type: "Art. 60" },
  { name: "AvianLabs Netherlands B.V.", type: "Art. 63" },
  { name: "Vivid Money B.V.", type: "Art. 63" },
  { name: "One Trading Exchange B.V.", type: "Art. 63" },
  { name: "Acheron Europe B.V.", type: "Art. 60" },
  { name: "BTC Direct Europe B.V.", type: "Art. 63" },
  { name: "Bitvavo B.V.", type: "Art. 63" },
  { name: "Amdax B.V.", type: "Art. 63" },
  { name: "Finst B.V.", type: "Art. 63" },
  { name: "Decubate B.V.", type: "Art. 63" },
  { name: "Fiat Republic Netherlands B.V.", type: "Art. 63" },
  { name: "BLOX B.V.", type: "Art. 63" },
  { name: "EU Internet Ventures B.V. (BNXA)", type: "Art. 63" },
  { name: "Zerohash Europe B.V.", type: "Art. 63" },
  { name: "Coinmerce B.V.", type: "Art. 63" },
  { name: "Bitmymoney B.V.", type: "Art. 63" },
  { name: "Bitonic B.V.", type: "Art. 63" },
  { name: "Blockrise Capital B.V.", type: "Art. 60" },
  { name: "Monflo B.V.", type: "Art. 60" },
  { name: "WEB3 Technology B.V.", type: "Art. 63" },
];

const cbCasps = [
  { name: "OKX", entity: "OKCoin Europe LTD", home: "Malta" },
  { name: "Crypto.com", entity: "Foris DAX MT Limited", home: "Malta" },
  { name: "eToro", entity: "eToro (Europe) Ltd", home: "Cyprus" },
  { name: "Bitpanda", entity: "Bitpanda GmbH", home: "Oostenrijk" },
  { name: "Trade Republic", entity: "Trade Republic Bank GmbH", home: "Duitsland" },
  { name: "Bitstamp", entity: "Bitstamp Europe S.A.", home: "Luxemburg" },
  { name: "Bybit", entity: "Bybit EU GmbH", home: "Oostenrijk" },
  { name: "Coinbase", entity: "Coinbase Luxembourg S.A.", home: "Luxemburg" },
  { name: "Kraken", entity: "Payward Europe Solutions Ltd", home: "Ierland" },
  { name: "Robinhood", entity: "Robinhood Europe, UAB", home: "Litouwen" },
  { name: "Gemini", entity: "Gemini Intergalactic EU Ltd", home: "Malta" },
  { name: "Gate", entity: "Gate Technology Limited", home: "Malta" },
  { name: "Clearstream", entity: "Clearstream Banking S.A.", home: "Luxemburg" },
  { name: "FlatexDEGIRO", entity: "FlatexDEGIRO Bank AG", home: "Duitsland" },
  { name: "Crypto Finance", entity: "Crypto Finance (DE) GmbH", home: "Duitsland" },
];

const C = {
  navy: "#1B2A4A", navyLight: "#2C3E6B", accent: "#3B6BCC", accentLight: "#5B8DEF",
  warm: "#D4883A", warmLight: "#E8A85C", green: "#2E7D5B", purple: "#7C3AED",
  light: "#F7F8FA", border: "#E8EBF0", text: "#1B2A4A", textSub: "#6B7280",
};

const PIE_COLORS = [C.accent, C.navy, C.warm];
const fmtFull = function(v) { return new Intl.NumberFormat("nl-NL").format(v); };

// === COMPONENTS ===

function ChartTooltip(props) {
  if (!props.active || !props.payload || !props.payload.length) return null;
  return h("div", { style: { background: "#fff", border: "1px solid " + C.border, borderRadius: 8, padding: "10px 14px", fontSize: 13, fontFamily: "inherit", boxShadow: "0 4px 12px rgba(27,42,74,0.08)" } },
    h("div", { style: { fontWeight: 700, color: C.text, marginBottom: 4 } }, props.label),
    props.payload.map(function(p, i) {
      return h("div", { key: i, style: { color: C.textSub } },
        (p.name === "value" ? "Aantal" : p.name) + ": ",
        h("span", { style: { fontWeight: 600, color: C.text } }, fmtFull(p.value))
      );
    })
  );
}

function PieTooltip(props) {
  if (!props.active || !props.payload || !props.payload.length) return null;
  return h("div", { style: { background: "#fff", border: "1px solid " + C.border, borderRadius: 8, padding: "10px 14px", fontSize: 13, fontFamily: "inherit", boxShadow: "0 4px 12px rgba(27,42,74,0.08)" } },
    h("div", { style: { fontWeight: 700, color: C.text } }, props.payload[0].name),
    h("div", { style: { color: C.textSub } }, props.payload[0].value + " partijen (" + Math.round(props.payload[0].value / 56 * 100) + "%)")
  );
}

function KPI(props) {
  return h("div", { style: { background: C.light, border: "1px solid " + C.border, borderRadius: 10, padding: "16px 18px" } },
    h("div", { style: { fontSize: 11, color: C.textSub, fontWeight: 600, textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: 6 } }, props.label),
    h("div", { style: { fontSize: 24, fontWeight: 700, color: props.color || C.text, fontVariantNumeric: "tabular-nums", letterSpacing: "-0.02em" } }, props.value),
    props.sub ? h("div", { style: { fontSize: 12, color: C.textSub, marginTop: 2 } }, props.sub) : null
  );
}

function Section(props) {
  return h("div", { style: { marginTop: 32 } },
    h("h2", { style: { fontSize: 17, fontWeight: 700, color: C.text, margin: "0 0 14px 0" } }, props.title),
    props.children
  );
}

function ChartBox(props) {
  return h("div", { style: { background: "#fff", border: "1px solid " + C.border, borderRadius: 10, padding: "20px 12px 12px 0" } },
    h(ResponsiveContainer, { width: "100%", height: props.height || 340 }, props.children)
  );
}

function Badge(props) {
  return h("span", { style: { display: "inline-block", fontSize: 11, fontWeight: 600, color: props.color, background: props.color + "14", padding: "2px 8px", borderRadius: 4, letterSpacing: "0.02em" } }, props.text);
}

// Table header cell helper
function Th(text) {
  return h("th", { style: { textAlign: "left", padding: "12px 16px", fontWeight: 600, color: C.textSub, fontSize: 11, textTransform: "uppercase", letterSpacing: "0.05em", borderBottom: "1px solid " + C.border } }, text);
}

// === TAB CONTENT ===

function OverviewTab() {
  return h("div", null,
    // Pie chart section
    h(Section, { title: "Verdeling vergunningtype" },
      h("div", { style: { background: "#fff", border: "1px solid " + C.border, borderRadius: 10, padding: 24, display: "flex", alignItems: "center", gap: 40, flexWrap: "wrap" } },
        h("div", { style: { width: 210, height: 210, flexShrink: 0 } },
          h(ResponsiveContainer, { width: "100%", height: "100%" },
            h(PieChart, null,
              h(Pie, { data: authTypeData, dataKey: "value", cx: "50%", cy: "50%", outerRadius: 88, innerRadius: 52, paddingAngle: 4, strokeWidth: 0 },
                authTypeData.map(function(_, i) { return h(Cell, { key: i, fill: PIE_COLORS[i] }); })
              ),
              h(Tooltip, { content: h(PieTooltip) })
            )
          )
        ),
        h("div", { style: { flex: 1, minWidth: 260 } },
          authTypeData.map(function(d, i) {
            return h("div", { key: i, style: { display: "flex", alignItems: "center", gap: 12, padding: "12px 0", borderBottom: i < 2 ? "1px solid " + C.border : "none" } },
              h("span", { style: { width: 10, height: 10, borderRadius: 3, background: PIE_COLORS[i], flexShrink: 0 } }),
              h("div", { style: { flex: 1 } },
                h("div", { style: { fontSize: 14, fontWeight: 600, color: C.text } }, d.name),
                h("div", { style: { fontSize: 12, color: C.textSub } }, d.value + " partijen")
              ),
              h("div", { style: { fontSize: 20, fontWeight: 700, color: PIE_COLORS[i], fontVariantNumeric: "tabular-nums" } }, Math.round(d.value / 56 * 100) + "%")
            );
          })
        )
      )
    ),
    // Origin bar chart
    h(Section, { title: "Cross-border: herkomst per EU-lidstaat" },
      h(ChartBox, { height: 300 },
        h(BarChart, { data: originData, margin: { top: 8, right: 16, left: 8, bottom: 4 } },
          h(CartesianGrid, { strokeDasharray: "3 3", stroke: C.border, vertical: false }),
          h(XAxis, { dataKey: "name", tick: { fill: C.textSub, fontSize: 12 }, tickLine: false, axisLine: { stroke: C.border } }),
          h(YAxis, { tick: { fill: C.textSub, fontSize: 11 }, tickLine: false, axisLine: false, width: 30, allowDecimals: false }),
          h(Tooltip, { content: h(ChartTooltip) }),
          h(Bar, { dataKey: "value", name: "CASPs", fill: C.purple, radius: [4, 4, 0, 0], maxBarSize: 48 })
        )
      ),
      h("p", { style: { fontSize: 13, color: C.textSub, marginTop: 8 } }, "Duitsland is veruit het belangrijkste herkomstland voor cross-border CASPs, gevolgd door Frankrijk en Malta.")
    )
  );
}

function NLTab() {
  return h("div", null,
    h(Section, { title: "Nederlandse CASP-vergunninghouders (23)" },
      h("div", { style: { border: "1px solid " + C.border, borderRadius: 10, overflow: "hidden" } },
        h("table", { style: { width: "100%", borderCollapse: "collapse", fontSize: 14 } },
          h("thead", null,
            h("tr", { style: { background: C.light } }, Th("#"), Th("Naam"), Th("Type"))
          ),
          h("tbody", null,
            nlCasps.map(function(c, i) {
              return h("tr", { key: i, style: { borderBottom: i < nlCasps.length - 1 ? "1px solid " + C.border : "none" } },
                h("td", { style: { padding: "10px 16px", color: C.textSub, fontSize: 13 } }, i + 1),
                h("td", { style: { padding: "10px 16px", fontWeight: 600, color: C.text } }, c.name),
                h("td", { style: { padding: "10px 16px" } },
                  h(Badge, { text: c.type, color: c.type === "Art. 63" ? C.accent : C.warm })
                )
              );
            })
          )
        )
      ),
      h("div", { style: { display: "grid", gridTemplateColumns: "repeat(2, 1fr)", gap: 12, marginTop: 16 } },
        h(KPI, { label: "Art. 63 \u2014 Vergunning", value: "19", sub: "volledige MiCAR-vergunning", color: C.accent }),
        h(KPI, { label: "Art. 60 \u2014 Notificatie", value: "4", sub: "overgangsregeling bestaande partijen", color: C.warm })
      )
    )
  );
}

function CrossBorderTab() {
  return h("div", null,
    h(Section, { title: "Cross-border CASPs actief in Nederland (32)" },
      h("p", { style: { fontSize: 14, color: C.textSub, marginBottom: 16 } }, "Selectie van de belangrijkste cross-border partijen met EU-paspoort (Art. 65 MiCAR)."),
      h("div", { style: { border: "1px solid " + C.border, borderRadius: 10, overflow: "hidden" } },
        h("table", { style: { width: "100%", borderCollapse: "collapse", fontSize: 14 } },
          h("thead", null,
            h("tr", { style: { background: C.light } }, Th("Handelsnaam"), Th("Entiteit"), Th("Herkomst"))
          ),
          h("tbody", null,
            cbCasps.map(function(c, i) {
              return h("tr", { key: i, style: { borderBottom: i < cbCasps.length - 1 ? "1px solid " + C.border : "none" } },
                h("td", { style: { padding: "10px 16px", fontWeight: 700, color: C.text } }, c.name),
                h("td", { style: { padding: "10px 16px", color: C.textSub, fontSize: 13 } }, c.entity),
                h("td", { style: { padding: "10px 16px" } },
                  h(Badge, { text: c.home, color: C.purple })
                )
              );
            })
          )
        )
      )
    )
  );
}

function DienstenTab() {
  return h("div", null,
    h(Section, { title: "Crypto-asset diensten (Art. 3(1)(16) MiCAR)" },
      h("p", { style: { fontSize: 14, color: C.textSub, marginBottom: 16 } }, "Aantal CASPs dat elke dienst aanbiedt. Meerdere diensten per partij mogelijk."),
      h(ChartBox, { height: 400 },
        h(BarChart, { data: servicesData, layout: "vertical", margin: { top: 4, right: 24, left: 8, bottom: 4 } },
          h(CartesianGrid, { strokeDasharray: "3 3", stroke: C.border, horizontal: false }),
          h(XAxis, { type: "number", tick: { fill: C.textSub, fontSize: 11 }, tickLine: false, axisLine: { stroke: C.border }, allowDecimals: false }),
          h(YAxis, { dataKey: "short", type: "category", width: 120, tick: { fill: C.text, fontSize: 12 }, tickLine: false, axisLine: false }),
          h(Tooltip, { content: h(ChartTooltip) }),
          h(Bar, { dataKey: "value", name: "CASPs", fill: C.green, radius: [0, 4, 4, 0], maxBarSize: 26 })
        )
      ),
      h("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)", gap: 12, marginTop: 16 } },
        h(KPI, { label: "Meest aangeboden", value: "Custody", sub: "& transfer services (42\u00D7)", color: C.green }),
        h(KPI, { label: "Exchange diensten", value: "34", sub: "crypto-to-fiat", color: C.accent }),
        h(KPI, { label: "Minst aangeboden", value: "Advies", sub: "slechts 4 partijen", color: C.warm })
      )
    )
  );
}

// === MAIN APP ===

function App() {
  var tabState = useState("overview");
  var tab = tabState[0];
  var setTab = tabState[1];

  var tabs = [
    { key: "overview", label: "Overzicht" },
    { key: "nl", label: "NL-vergunningen" },
    { key: "crossborder", label: "Cross-border" },
    { key: "diensten", label: "Diensten" },
  ];

  return h("div", { style: { minHeight: "100vh", background: "#fff", fontFamily: "'Source Sans 3', sans-serif", color: C.text, display: "flex", flexDirection: "column", alignItems: "center" } },

    // Hero
    h("div", { style: { width: "100%", background: "linear-gradient(135deg, " + C.navy + " 0%, #1E3A5F 50%, " + C.purple + " 100%)", padding: "48px 32px 40px", display: "flex", justifyContent: "center" } },
      h("div", { style: { maxWidth: 880, width: "100%" } },
        h("div", { style: { display: "flex", gap: 8, marginBottom: 14 } },
          h("span", { style: { fontSize: 11, fontWeight: 600, color: "#fff", background: "rgba(255,255,255,0.15)", padding: "3px 10px", borderRadius: 4, letterSpacing: "0.05em", textTransform: "uppercase" } }, "AFM Register"),
          h("span", { style: { fontSize: 11, fontWeight: 600, color: "#fff", background: "rgba(255,255,255,0.15)", padding: "3px 10px", borderRadius: 4, letterSpacing: "0.05em", textTransform: "uppercase" } }, "MiCAR")
        ),
        h("h1", { style: { fontSize: 28, fontWeight: 700, color: "#fff", margin: "0 0 8px 0", letterSpacing: "-0.02em", lineHeight: 1.2 } }, "Register Crypto-Asset Service Providers"),
        h("p", { style: { color: "rgba(255,255,255,0.7)", fontSize: 15, margin: 0 } }, "Overzicht van alle in Nederland geregistreerde en actieve CASPs onder MiCAR \u00B7 peildatum 12 februari 2026")
      )
    ),

    h("div", { style: { maxWidth: 880, width: "100%", padding: "0 32px" } },

      // KPIs
      h("div", { style: { display: "grid", gridTemplateColumns: "repeat(4, 1fr)", gap: 12, marginTop: -20, position: "relative", zIndex: 1 } },
        h(KPI, { label: "Totaal CASPs", value: "56", color: C.navy }),
        h(KPI, { label: "NL-vergunningen", value: "23", sub: "Art. 63 & Art. 60", color: C.accent }),
        h(KPI, { label: "Cross-border", value: "32", sub: "EU-paspoort Art. 65", color: C.purple }),
        h(KPI, { label: "Herkomstlanden", value: "8", sub: "incl. Nederland", color: C.warm })
      ),

      // Tabs
      h("div", { style: { display: "flex", gap: 0, borderBottom: "1px solid " + C.border, marginTop: 32, overflowX: "auto" } },
        tabs.map(function(t) {
          return h("button", {
            key: t.key,
            onClick: function() { setTab(t.key); },
            style: {
              padding: "10px 18px", border: "none", cursor: "pointer", fontSize: 14, fontFamily: "inherit", fontWeight: 600, whiteSpace: "nowrap",
              color: tab === t.key ? C.accent : C.textSub, background: "transparent",
              borderBottom: tab === t.key ? "2px solid " + C.accent : "2px solid transparent",
              marginBottom: -1, transition: "all 0.15s",
            }
          }, t.label);
        })
      ),

      // Tab content
      tab === "overview" ? h(OverviewTab) : null,
      tab === "nl" ? h(NLTab) : null,
      tab === "crossborder" ? h(CrossBorderTab) : null,
      tab === "diensten" ? h(DienstenTab) : null,

      // Footer
      h("div", { style: { marginTop: 40, paddingTop: 16, paddingBottom: 32, borderTop: "1px solid " + C.border, display: "flex", justifyContent: "space-between" } },
        h("span", { style: { fontSize: 12, color: C.textSub } }, "Bron: AFM Register Crypto-Asset Service Providers"),
        h("span", { style: { fontSize: 12, color: "#d1d5db" } }, "Peildatum: 12 feb 2026")
      )
    )
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(h(App));
</script>
</body>
</html>
